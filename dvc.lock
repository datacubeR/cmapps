schema: '2.0'
stages:
  featurize:
    cmd: python src/01-featurize.py
    deps:
    - path: src/01-featurize.py
      md5: ed81abdf3e91ec38e1302bed6d22b722
      size: 1883
    - path: src/utils.py
      md5: 7a63b65bbc25c0025c9548a5128cae5c
      size: 2016
    params:
      params.yaml:
        featurize:
          index_names:
          - unit_nr
          - time_cycles
          setting_names:
          - setting_1
          - setting_2
          - setting_3
          sensor_names:
          - s_1
          - s_2
          - s_3
          - s_4
          - s_5
          - s_6
          - s_7
          - s_8
          - s_9
          - s_10
          - s_11
          - s_12
          - s_13
          - s_14
          - s_15
          - s_16
          - s_17
          - s_18
          - s_19
          - s_20
          - s_21
          to_keep:
          - s_2
          - s_3
          - s_4
          - s_6
          - s_7
          - s_8
          - s_9
          - s_11
          - s_12
          - s_13
          - s_14
          - s_15
          - s_17
          - s_20
          - s_21
          lags:
          - 1
          - 2
          - 3
          - 4
          - 5
          - 10
          - 20
          - 30
        import:
          train_name: train_FD001.txt
          test_name: test_FD001.txt
          rul_name: RUL_FD001.txt
    outs:
    - path: assets/features
      md5: df7148eac0fe1c20565954d0da44d026.dir
      size: 17047397
      nfiles: 4
  train:
    cmd: python src/02-train.py
    deps:
    - path: assets/features
      md5: df7148eac0fe1c20565954d0da44d026.dir
      size: 17047397
      nfiles: 4
    - path: src/02-train.py
      md5: 68e5342e3dfe9c9e398fb99df64385f3
      size: 2840
    params:
      params.yaml:
        train:
          model_name: model.joblib
          n_split: 5
          rul_clip: 125
          pred_clip: 1
          standardize: true
    outs:
    - path: assets/models
      md5: 104ed2585cd9a391f870fa7a1e5affd8.dir
      size: 8991
      nfiles: 1
    - path: assets/val_metrics.json
      md5: cfcf31d3fe95b9d965e99dd4efdf0091
      size: 108
  evaluate:
    cmd: python src/03-evaluate.py
    deps:
    - path: assets/features
      md5: df7148eac0fe1c20565954d0da44d026.dir
      size: 17047397
      nfiles: 4
    - path: assets/models
      md5: 104ed2585cd9a391f870fa7a1e5affd8.dir
      size: 8991
      nfiles: 1
    - path: src/03-evaluate.py
      md5: e165bfead627087d7a20b8df613eef65
      size: 1374
    - path: src/utils.py
      md5: 7a63b65bbc25c0025c9548a5128cae5c
      size: 2016
    outs:
    - path: assets/test_metrics.json
      md5: b32442e41dc139943d1ddb66312c9b89
      size: 106
