schema: '2.0'
stages:
  featurize:
    cmd: python src/01-featurize.py
    deps:
    - path: src/01-featurize.py
      md5: c0e73451e95e8cef4cd7a1075d65db61
      size: 1511
    params:
      params.yaml:
        featurize:
          index_names:
          - unit_nr
          - time_cycles
          setting_names:
          - setting_1
          - setting_2
          - setting_3
          sensor_names:
          - s_1
          - s_2
          - s_3
          - s_4
          - s_5
          - s_6
          - s_7
          - s_8
          - s_9
          - s_10
          - s_11
          - s_12
          - s_13
          - s_14
          - s_15
          - s_16
          - s_17
          - s_18
          - s_19
          - s_20
          - s_21
          to_keep:
          - s_2
          - s_3
          - s_4
          - s_6
          - s_7
          - s_8
          - s_9
          - s_11
          - s_12
          - s_13
          - s_14
          - s_15
          - s_17
          - s_20
          - s_21
          rul_clip: 125
        import:
          train_name: train_FD001.txt
          test_name: test_FD001.txt
          rul_name: RUL_FD001.txt
    outs:
    - path: assets/features
      md5: 484b218deb8c078a109fda9ac993a2c0.dir
      size: 2241486
      nfiles: 4
  train:
    cmd: python src/02-train.py
    deps:
    - path: assets/features
      md5: 484b218deb8c078a109fda9ac993a2c0.dir
      size: 2241486
      nfiles: 4
    - path: src/02-train.py
      md5: 358cc1e43378985cfb8de2f3be27e536
      size: 2404
    params:
      params.yaml:
        train:
          model_name: model.joblib
          n_split: 5
    outs:
    - path: assets/models
      md5: 9bfc165343cb1cf27ebf7d273deab2c9.dir
      size: 1320
      nfiles: 1
    - path: assets/val_metrics.json
      md5: cc8969dfcb1815e16c0be14148671306
      size: 107
  evaluate:
    cmd: python src/03-evaluate.py
    deps:
    - path: assets/features
      md5: 484b218deb8c078a109fda9ac993a2c0.dir
      size: 2241486
      nfiles: 4
    - path: assets/models
      md5: 9bfc165343cb1cf27ebf7d273deab2c9.dir
      size: 1320
      nfiles: 1
    - path: src/03-evaluate.py
      md5: dd9d25ee36a504db7f32ee36debb4a73
      size: 1257
    outs:
    - path: assets/images
      md5: 70873b67c63161a4b2bb45273f8a09de.dir
      size: 43715
      nfiles: 2
    - path: assets/test_metrics.json
      md5: 006a1b8931a3d22d8f51b3d4e311509d
      size: 104
